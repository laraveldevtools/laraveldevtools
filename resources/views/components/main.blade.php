<div x-data="{
    section: @entangle('section'),
    file_contents: @entangle('file_contents'),
    file: @entangle('file'),
}" class="flex overflow-hidden flex-col items-stretch w-screen h-screen">
    <nav class="flex flex-shrink-0 items-center px-3 py-2 space-x-2 w-full h-auto border-b border-gray-100 text-neutral-600">
        <button class="flex justify-center items-center w-7 h-7 rounded group text-neutral-600 hover:bg-black/[7%]">
            <svg class="duration-300 ease-out fill-current stroke-current size-4 group-hover:opacity-0 group-hover:scale-0" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 102 106" fill="none"><mask id="logo-a" width="102" height="105" x=".089" y=".342" fill="#000" maskUnits="userSpaceOnUse"><path fill="currentColor" d="M.089.342h102v105h-102z"/><path d="M100.855 24.59c.037.136.056.278.057.42v22.057a1.608 1.608 0 0 1-.809 1.396L81.59 59.122v21.127c0 .575-.306 1.105-.804 1.395L42.14 103.89c-.088.05-.185.082-.281.116-.036.012-.07.034-.109.044a1.6 1.6 0 0 1-.824 0c-.044-.012-.084-.036-.127-.052-.088-.032-.18-.06-.265-.108L1.897 81.644a1.61 1.61 0 0 1-.808-1.395V14.075c0-.145.02-.285.056-.422.012-.046.04-.088.056-.135.03-.084.058-.17.103-.249.03-.052.074-.095.11-.143.046-.064.089-.13.143-.187.046-.046.106-.08.159-.12.058-.049.11-.1.177-.14L21.214 1.558a1.613 1.613 0 0 1 1.609 0l19.32 11.123h.003c.065.04.119.09.177.137.053.04.11.076.157.12.056.059.097.125.145.19.034.047.08.09.108.142.047.08.073.165.105.25.016.046.044.088.056.136.037.137.056.278.056.42v41.331l16.1-9.27V25.008c0-.14.02-.283.056-.418.014-.048.04-.09.056-.136.032-.085.06-.171.105-.25.03-.052.074-.094.108-.142.048-.065.089-.131.145-.187.046-.047.104-.08.157-.12.06-.05.112-.102.177-.14l19.323-11.123a1.611 1.611 0 0 1 1.609 0l19.319 11.123c.069.04.121.09.181.137.051.04.109.076.155.12.056.059.097.125.145.19.036.048.08.09.108.142.047.079.073.165.105.25.018.046.044.088.056.136Zm-3.164 21.547V27.794l-16.101 9.27v18.342l16.103-9.27h-.002Zm-19.32 33.18V60.964L42.95 81.183v18.528L78.37 79.318ZM4.31 16.86v62.458l35.419 20.391V81.185L21.224 70.713l-.006-.004-.008-.004c-.062-.036-.114-.088-.173-.132-.05-.04-.108-.073-.152-.117l-.004-.006c-.053-.05-.089-.113-.133-.169-.04-.054-.088-.1-.12-.157l-.003-.006c-.036-.06-.058-.132-.084-.2-.026-.061-.06-.117-.076-.182-.02-.076-.025-.159-.033-.237-.008-.06-.024-.12-.024-.18v-43.19L4.31 16.86ZM22.02 4.81 5.923 14.074l16.093 9.266 16.096-9.268L22.015 4.81h.005Zm17.71 52.45v-40.4l-16.101 9.27v40.4l16.1-9.27Zm40.252-41.516-16.096 9.265 16.096 9.266 16.093-9.267-16.093-9.264Zm-1.61 21.32-16.102-9.27v18.343l16.101 9.27V37.063ZM41.335 78.399l35.409-20.212-16.083-9.26-35.395 20.377 16.07 9.095Z"/></mask><path fill="currentColor" d="M100.855 24.59c.037.136.056.278.057.42v22.057a1.608 1.608 0 0 1-.809 1.396L81.59 59.122v21.127c0 .575-.306 1.105-.804 1.395L42.14 103.89c-.088.05-.185.082-.281.116-.036.012-.07.034-.109.044a1.6 1.6 0 0 1-.824 0c-.044-.012-.084-.036-.127-.052-.088-.032-.18-.06-.265-.108L1.897 81.644a1.61 1.61 0 0 1-.808-1.395V14.075c0-.145.02-.285.056-.422.012-.046.04-.088.056-.135.03-.084.058-.17.103-.249.03-.052.074-.095.11-.143.046-.064.089-.13.143-.187.046-.046.106-.08.159-.12.058-.049.11-.1.177-.14L21.214 1.558a1.613 1.613 0 0 1 1.609 0l19.32 11.123h.003c.065.04.119.09.177.137.053.04.11.076.157.12.056.059.097.125.145.19.034.047.08.09.108.142.047.08.073.165.105.25.016.046.044.088.056.136.037.137.056.278.056.42v41.331l16.1-9.27V25.008c0-.14.02-.283.056-.418.014-.048.04-.09.056-.136.032-.085.06-.171.105-.25.03-.052.074-.094.108-.142.048-.065.089-.131.145-.187.046-.047.104-.08.157-.12.06-.05.112-.102.177-.14l19.323-11.123a1.611 1.611 0 0 1 1.609 0l19.319 11.123c.069.04.121.09.181.137.051.04.109.076.155.12.056.059.097.125.145.19.036.048.08.09.108.142.047.079.073.165.105.25.018.046.044.088.056.136Zm-3.164 21.547V27.794l-16.101 9.27v18.342l16.103-9.27h-.002Zm-19.32 33.18V60.964L42.95 81.183v18.528L78.37 79.318ZM4.31 16.86v62.458l35.419 20.391V81.185L21.224 70.713l-.006-.004-.008-.004c-.062-.036-.114-.088-.173-.132-.05-.04-.108-.073-.152-.117l-.004-.006c-.053-.05-.089-.113-.133-.169-.04-.054-.088-.1-.12-.157l-.003-.006c-.036-.06-.058-.132-.084-.2-.026-.061-.06-.117-.076-.182-.02-.076-.025-.159-.033-.237-.008-.06-.024-.12-.024-.18v-43.19L4.31 16.86ZM22.02 4.81 5.923 14.074l16.093 9.266 16.096-9.268L22.015 4.81h.005Zm17.71 52.45v-40.4l-16.101 9.27v40.4l16.1-9.27Zm40.252-41.516-16.096 9.265 16.096 9.266 16.093-9.267-16.093-9.264Zm-1.61 21.32-16.102-9.27v18.343l16.101 9.27V37.063ZM41.335 78.399l35.409-20.212-16.083-9.26-35.395 20.377 16.07 9.095Z"/><path stroke="currentColor" stroke-width="2" d="M100.855 24.59c.037.136.056.278.057.42v22.057a1.608 1.608 0 0 1-.809 1.396L81.59 59.122v21.127c0 .575-.306 1.105-.804 1.395L42.14 103.89c-.088.05-.185.082-.281.116-.036.012-.07.034-.109.044a1.6 1.6 0 0 1-.824 0c-.044-.012-.084-.036-.127-.052-.088-.032-.18-.06-.265-.108L1.897 81.644a1.61 1.61 0 0 1-.808-1.395V14.075c0-.145.02-.285.056-.422.012-.046.04-.088.056-.135.03-.084.058-.17.103-.249.03-.052.074-.095.11-.143.046-.064.089-.13.143-.187.046-.046.106-.08.159-.12.058-.049.11-.1.177-.14L21.214 1.558a1.613 1.613 0 0 1 1.609 0l19.32 11.123h.003c.065.04.119.09.177.137.053.04.11.076.157.12.056.059.097.125.145.19.034.047.08.09.108.142.047.08.073.165.105.25.016.046.044.088.056.136.037.137.056.278.056.42v41.331l16.1-9.27V25.008c0-.14.02-.283.056-.418.014-.048.04-.09.056-.136.032-.085.06-.171.105-.25.03-.052.074-.094.108-.142.048-.065.089-.131.145-.187.046-.047.104-.08.157-.12.06-.05.112-.102.177-.14l19.323-11.123a1.611 1.611 0 0 1 1.609 0l19.319 11.123c.069.04.121.09.181.137.051.04.109.076.155.12.056.059.097.125.145.19.036.048.08.09.108.142.047.079.073.165.105.25.018.046.044.088.056.136Zm-3.164 21.547V27.794l-16.101 9.27v18.342l16.103-9.27h-.002Zm-19.32 33.18V60.964L42.95 81.183v18.528L78.37 79.318ZM4.31 16.86v62.458l35.419 20.391V81.185L21.224 70.713l-.006-.004-.008-.004c-.062-.036-.114-.088-.173-.132-.05-.04-.108-.073-.152-.117l-.004-.006c-.053-.05-.089-.113-.133-.169-.04-.054-.088-.1-.12-.157l-.003-.006c-.036-.06-.058-.132-.084-.2-.026-.061-.06-.117-.076-.182-.02-.076-.025-.159-.033-.237-.008-.06-.024-.12-.024-.18v-43.19L4.31 16.86ZM22.02 4.81 5.923 14.074l16.093 9.266 16.096-9.268L22.015 4.81h.005Zm17.71 52.45v-40.4l-16.101 9.27v40.4l16.1-9.27Zm40.252-41.516-16.096 9.265 16.096 9.266 16.093-9.267-16.093-9.264Zm-1.61 21.32-16.102-9.27v18.343l16.101 9.27V37.063ZM41.335 78.399l35.409-20.212-16.083-9.26-35.395 20.377 16.07 9.095Z" mask="url(#logo-a)"/></svg>
            <span class="block absolute opacity-0 duration-300 ease-out scale-0 size-3 group-hover:scale-100 group-hover:opacity-100">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-full h-full duration-300 ease-out delay-100 group-hover:rotate-180"><path fill-rule="evenodd" d="M7.84 1.804A1 1 0 0 1 8.82 1h2.36a1 1 0 0 1 .98.804l.331 1.652a6.993 6.993 0 0 1 1.929 1.115l1.598-.54a1 1 0 0 1 1.186.447l1.18 2.044a1 1 0 0 1-.205 1.251l-1.267 1.113a7.047 7.047 0 0 1 0 2.228l1.267 1.113a1 1 0 0 1 .206 1.25l-1.18 2.045a1 1 0 0 1-1.187.447l-1.598-.54a6.993 6.993 0 0 1-1.929 1.115l-.33 1.652a1 1 0 0 1-.98.804H8.82a1 1 0 0 1-.98-.804l-.331-1.652a6.993 6.993 0 0 1-1.929-1.115l-1.598.54a1 1 0 0 1-1.186-.447l-1.18-2.044a1 1 0 0 1 .205-1.251l1.267-1.114a7.05 7.05 0 0 1 0-2.227L1.821 7.773a1 1 0 0 1-.206-1.25l1.18-2.045a1 1 0 0 1 1.187-.447l1.598.54A6.992 6.992 0 0 1 7.51 3.456l.33-1.652ZM10 13a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z" clip-rule="evenodd" /></svg>
            </span>


        </button>
        <button x-on:click="section = 'database'"
        :class="{ 'bg-black/[7%]' : section == 'database' }"
            class="flex justify-center rounded relative items-center hover:bg-black/[7%] px-2 h-full text-xs"
            >
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="mr-1 size-3"><path fill-rule="evenodd" d="M10 1c3.866 0 7 1.79 7 4s-3.134 4-7 4-7-1.79-7-4 3.134-4 7-4Zm5.694 8.13c.464-.264.91-.583 1.306-.952V10c0 2.21-3.134 4-7 4s-7-1.79-7-4V8.178c.396.37.842.688 1.306.953C5.838 10.006 7.854 10.5 10 10.5s4.162-.494 5.694-1.37ZM3 13.179V15c0 2.21 3.134 4 7 4s7-1.79 7-4v-1.822c-.396.37-.842.688-1.306.953-1.532.875-3.548 1.369-5.694 1.369s-4.162-.494-5.694-1.37A7.009 7.009 0 0 1 3 13.179Z" clip-rule="evenodd" /></svg>
            <span>Database</span>
        </button>
        
        <button x-on:click="window.location.href='/tinker';"
            :class="{ 'bg-black/[7%]' : section == 'code' }"
    class="flex justify-center rounded relative items-center hover:bg-black/[7%] px-2 h-full text-xs"
            >
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="mr-1 size-3"><path fill-rule="evenodd" d="M4.25 2A2.25 2.25 0 0 0 2 4.25v11.5A2.25 2.25 0 0 0 4.25 18h11.5A2.25 2.25 0 0 0 18 15.75V4.25A2.25 2.25 0 0 0 15.75 2H4.25Zm4.03 6.28a.75.75 0 0 0-1.06-1.06L4.97 9.47a.75.75 0 0 0 0 1.06l2.25 2.25a.75.75 0 0 0 1.06-1.06L6.56 10l1.72-1.72Zm4.5-1.06a.75.75 0 1 0-1.06 1.06L13.44 10l-1.72 1.72a.75.75 0 1 0 1.06 1.06l2.25-2.25a.75.75 0 0 0 0-1.06l-2.25-2.25Z" clip-rule="evenodd" /></svg>
            <span>Run Code</span>
        </button>

        <button class="hidden"
            @class([
                'flex justify-center rounded relative items-center hover:bg-black/[7%] px-2 h-full text-xs',
                'bg-black/[7%]' => $section == 'media'])
            >
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="mr-1 size-3"><path fill-rule="evenodd" d="M1 5.25A2.25 2.25 0 0 1 3.25 3h13.5A2.25 2.25 0 0 1 19 5.25v9.5A2.25 2.25 0 0 1 16.75 17H3.25A2.25 2.25 0 0 1 1 14.75v-9.5Zm1.5 5.81v3.69c0 .414.336.75.75.75h13.5a.75.75 0 0 0 .75-.75v-2.69l-2.22-2.219a.75.75 0 0 0-1.06 0l-1.91 1.909.47.47a.75.75 0 1 1-1.06 1.06L6.53 8.091a.75.75 0 0 0-1.06 0l-2.97 2.97ZM12 7a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z" clip-rule="evenodd" /></svg>
            <span>Media</span>
        </button>
    </nav>
    @if($file != null && $file_contents != null)
    <div class="flex items-stretch w-screen h-screen justify-stretch">
        <x-laraveldevtools::editor />
    </div>
        {{-- <textarea class="h-full">{!! $file_contents !!}</textarea> --}}
    @else
        <div x-show="section == 'code'" class="absolute z-50 w-screen  pt-[45px] h-screen pointer-events-none">
            <div class="relative w-full h-full pointer-events-auto">
                <iframe src="/tinker" class="box-border block w-full h-full" scrolling="no" sandbox="allow-scripts allow-same-origin" width="100%" height="100%" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%;"" frameborder="0"></iframe>
            </div>
        </div>
        <div x-show="section == 'database'" class="flex overflow-hidden items-stretch pt-5 pb-3 w-full h-full">
            <div class="overflow-auto flex-shrink-0 w-64 h-full">
                @livewire('laraveldevtools-tables')
            </div>
            <div class="overflow-hidden flex-1 max-w-full h-full">
                @livewire('laraveldevtools-database')
            </div>
        </div>
    @endIf
</div>